# 本工程为2022年全国大学生电子设计竞赛省赛C题的工程。
  Followed Car下为主车。
  Following Car下为从车。 
  22ds.py为openmv的脚本。 
  使用MSP430F5529Launchpad为主控，openmv只负责寻线，openmv与430间通过串口通信，双车间也是串口通信。 
  使用编译器为CCS for MSP430。
# 
  需要注意一个地方，因为MSP430不支持硬件编码器，所以使用外部中断读取单相编码器脉冲计数，并转化为真实距离。如果想在自己车上跑，需要根据你车的尺寸更改转化的式子。我们使用的电机是500线30减速比的光电编码电机，轮直径为71mm，使用的单位是cm/s，所以真实速度是编码器的值* pi / 1500 * 71(先乘pi防止int型溢出)。因为这个题不要求小车倒着走的情况，所以没有对电机反转进行处理，一旦反转PID为因为正反馈而溢出。控制是内环速度环外环openmv角度环的串级PID，写任务去了参数没怎么调，所用参数需根据电机自行调整。因为430的浮点计算速度太慢，陀螺仪相关部分虽然写了但是没有用，想用是可以在200hz以下的速度去更新陀螺仪数据和姿态解算，所用陀螺仪是ICM20602。
# 
因为电赛时间紧迫，很多地方写的并不是很好，代码风格也不是很好(我写的这么乱，到处都是注释掉的代码，还没有注释，除了我可能没人能全部看懂吧😀)，程序里可能有一些我没有发现的bug，需要靠各位自己努力了，我也只是给出一个参考。 
  最后希望各位来年电赛别做要TI板子的题了，要做也别用MSP430做。
